<div class="container">
  <h1>Simple Angular FormArray</h1>

  <form [formGroup]="simpleForm" (ngSubmit)="onSubmit()">
    <p>
      <label for="name">Student Name:</label>

      <input
        type="text"
        id="name"
        name="name"
        formControlName="name"
        class="form-control"
      />
    </p>
    <p>
      <label for="name">Class:</label>

      <input
        type="number"
        id="class"
        name="class"
        formControlName="class"
        class="form-control"
      />
    </p>
    <p>
      <label for="name">Roll:</label>

      <input
        type="number"
        id="roll"
        name="roll"
        formControlName="roll"
        class="form-control"
      />
    </p>
    <p>
      <label for="name">Email:</label>

      <input
        type="mail"
        id="email"
        name="email"
        formControlName="email"
        class="form-control"
      />
    </p>

    <table class="table table-bordered" formArrayName="subjects">
      <tr>
        <th colspan="2">Add Subjects:</th>

        <th width="150px">
          <div>
            <button
              type="button"
              (click)="addSubjects()"
              class="btn btn-sm btn-primary"
            >
              Add
            </button>
            <button
              type="button"
              class="btn btn-sm btn-primary mx-3"
              (click)="onDeleteAll()"
            >
              Delete
            </button>
            <!-- <button
            type="button"
            class="btn btn-sm btn-primary mx-3"
            (click)="onReset()"
          >
            Reset
          </button> -->
          </div>
        </th>
      </tr>

      <tr
        *ngFor="let quantity of subjects().controls; let i = index"
        [formGroupName]="i"
      >
        <td>
          Subject Name :

          <input type="text" formControlName="subName" class="form-control" />
        </td>

        <td>
          Credit Hours:

          <input
            type="number"
            formControlName="subMarks"
            class="form-control"
          />
        </td>

        <td>
          <div>
            <button (click)="removeSubject(i)" class="btn btn-danger btn-sm">
              Remove
            </button>
          </div>
        </td>
      </tr>
    </table>

    <button
      type="submit"
      [disabled]="simpleForm.invalid"
      class="btn btn-success mx-3"
    >
      Submit
    </button>
  </form>

  <br />

  {{ this.simpleForm.value | json }}
</div>
